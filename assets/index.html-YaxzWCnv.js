import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as t,c as e,a as n,f as s}from"./app-wd9UAkBE.js";const o={},c=n("blockquote",null,[n("p",null,[n("code",null,"Proxy"),s(": Proxy 代理可以使得操作 "),n("strong",null,"singleton返回的对象"),s(" 的原型时，能挂载到原型上")])],-1),p=n("div",{class:"language-javascript line-numbers-mode","data-ext":"js","data-title":"js"},[n("pre",{js:"",class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"singleton"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"className"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"let"),s(` ins
  `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Proxy"),n("span",{class:"token punctuation"},"("),s("className"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token function"},"construct"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("target"),n("span",{class:"token punctuation"},","),s(" args")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"if"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("ins"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        ins `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"target"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"..."),s("args"),n("span",{class:"token punctuation"},")"),s(`
      `),n("span",{class:"token punctuation"},"}"),s(`
      `),n("span",{class:"token keyword"},"return"),s(` ins
    `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"Cat"),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token keyword"},"const"),s(" NewCat "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"singleton"),n("span",{class:"token punctuation"},"("),s("Cat"),n("span",{class:"token punctuation"},")"),s(`

`),n("span",{class:"token keyword"},"const"),s(" catA "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"NewCat"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token keyword"},"const"),s(" catB "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"NewCat"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("catA"),n("span",{class:"token punctuation"},","),s(" catB"),n("span",{class:"token punctuation"},","),s(" catA "),n("span",{class:"token operator"},"==="),s(" catB"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token comment"},"// Cat {} Cat {} true"),s(`
`)])]),n("div",{class:"highlight-lines"},[n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("br"),n("br")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),l=[c,p];function i(r,u){return t(),e("div",null,l)}const m=a(o,[["render",i],["__file","index.html.vue"]]),g=JSON.parse('{"path":"/Tips/JavaScript/DesignPatterns/001/","title":"单例模式","lang":"zh-CN","frontmatter":{"title":"单例模式","lang":"zh-CN","date":"2024-05-18T18:54:31.000Z","permalink":"/Tips/JavaScript/DesignPatterns/001/","category":["JavaScript"],"tag":["Tips"],"description":"Proxy: Proxy 代理可以使得操作 singleton返回的对象 的原型时，能挂载到原型上","head":[["meta",{"property":"og:url","content":"https://shaohui-jin.github.io/Tips/JavaScript/DesignPatterns/001/"}],["meta",{"property":"og:title","content":"单例模式"}],["meta",{"property":"og:description","content":"Proxy: Proxy 代理可以使得操作 singleton返回的对象 的原型时，能挂载到原型上"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-06-21T10:05:42.000Z"}],["meta",{"property":"article:author","content":"石怜安"}],["meta",{"property":"article:tag","content":"Tips"}],["meta",{"property":"article:published_time","content":"2024-05-18T18:54:31.000Z"}],["meta",{"property":"article:modified_time","content":"2024-06-21T10:05:42.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"单例模式\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-05-18T18:54:31.000Z\\",\\"dateModified\\":\\"2024-06-21T10:05:42.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"石怜安\\",\\"url\\":\\"https://shaohui-jin.github.io\\"}]}"]]},"headers":[],"git":{"createdTime":1716969129000,"updatedTime":1718964342000,"contributors":[{"name":"shaohui_jin","email":"1051131737@qq.com","commits":2}]},"readingTime":{"minutes":0.32,"words":95},"filePathRelative":"zh/小技巧/JavaScript/设计模式相关/001.单例模式.md","localizedDate":"2024年5月18日","excerpt":"<blockquote>\\n<p><code>Proxy</code>: Proxy 代理可以使得操作 <strong>singleton返回的对象</strong> 的原型时，能挂载到原型上</p>\\n</blockquote>\\n<div class=\\"language-javascript\\" data-ext=\\"js\\" data-title=\\"js\\"><pre js=\\"\\" class=\\"language-javascript\\"><code><span class=\\"token keyword\\">function</span> <span class=\\"token function\\">singleton</span><span class=\\"token punctuation\\">(</span><span class=\\"token parameter\\">className</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token keyword\\">let</span> ins\\n  <span class=\\"token keyword\\">return</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">Proxy</span><span class=\\"token punctuation\\">(</span>className<span class=\\"token punctuation\\">,</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token function\\">construct</span><span class=\\"token punctuation\\">(</span><span class=\\"token parameter\\">target<span class=\\"token punctuation\\">,</span> args</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n      <span class=\\"token keyword\\">if</span><span class=\\"token punctuation\\">(</span><span class=\\"token operator\\">!</span>ins<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        ins <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">target</span><span class=\\"token punctuation\\">(</span><span class=\\"token operator\\">...</span>args<span class=\\"token punctuation\\">)</span>\\n      <span class=\\"token punctuation\\">}</span>\\n      <span class=\\"token keyword\\">return</span> ins\\n    <span class=\\"token punctuation\\">}</span>\\n  <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span>\\n<span class=\\"token punctuation\\">}</span>\\n\\n<span class=\\"token keyword\\">class</span> <span class=\\"token class-name\\">Cat</span> <span class=\\"token punctuation\\">{</span><span class=\\"token punctuation\\">}</span>\\n<span class=\\"token keyword\\">const</span> NewCat <span class=\\"token operator\\">=</span> <span class=\\"token function\\">singleton</span><span class=\\"token punctuation\\">(</span>Cat<span class=\\"token punctuation\\">)</span>\\n\\n<span class=\\"token keyword\\">const</span> catA <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">NewCat</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span>\\n<span class=\\"token keyword\\">const</span> catB <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">NewCat</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span>\\nconsole<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">log</span><span class=\\"token punctuation\\">(</span>catA<span class=\\"token punctuation\\">,</span> catB<span class=\\"token punctuation\\">,</span> catA <span class=\\"token operator\\">===</span> catB<span class=\\"token punctuation\\">)</span> <span class=\\"token comment\\">// Cat {} Cat {} true</span>\\n</code></pre></div>","autoDesc":true}');export{m as comp,g as data};
